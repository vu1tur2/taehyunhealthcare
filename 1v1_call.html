<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>태현헬스케어 - 홈케어 의료기기 전문 브랜드</title>

    <!-- SEO 핵심 메타태그 -->
    <meta name="description" content="태현헬스케어는 도플러, 흡입기, 산소포화도 측정기 등 가정용 의료기기를 전문으로 취급하는 브랜드입니다.">
    <meta name="keywords" content="태현헬스케어, 도플러, 산소포화도, 흡입기, 의료기기, 홈케어, 건강">
    <meta name="author" content="태현헬스케어">
    <meta name="robots" content="index, follow">

    <!-- Open Graph (SNS 공유 시 정보) -->
    <meta property="og:title" content="태현헬스케어 - 홈케어 전문 기업">
    <meta property="og:description" content="가정에서 사용할 수 있는 의료기기 전문 브랜드">
    <meta property="og:image" content="https://vu1tur2.github.io/taehyunhealthcare/img/logo.png">
    <meta property="og:url" content="https://vu1tur2.github.io/taehyunhealthcare/">
    <meta property="og:type" content="website">

    <!-- 구글 서치콘솔 -->
    <meta name="google-site-verification" content="0UGIN-4-UxQ22XoXpMqVQQr8Ns0h8XXDVIXI4RViAiE" />
    
    <!-- 네이버 서치어드바이저 -->
    <meta name="naver-site-verification" content="0cd68edc7a0e5ab742e7038c1182c6ac30f1973c" />
    
    
    <!-- css,js 연결 코드 -->
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/banner.js"></script>
    <script src="js/rank.js"></script>
</head>
<body>
    <!-- 시작 -->
    <div id="wrap">
        <div class="chat">
            <div class="chat1">
                <li><a href="index.html">홈케어 전문회사 <span> 태현헬스케어</span></a></li>
            </div>
        </div>
    </div>
    <!-- 끝 -->
 
     <!-- 헤더 시작 -->
    <header>
    <div class="logo">
        <a href="index.html">
        <img src="img/logo.png" alt="태현헬스케어 로고 이미지">
        </a>
    </div>

    <div class="search">
        <div class="search-box">
        <input type="text" placeholder="검색어를 입력하세요" style="border: none;">
        <img src="img/Search.png" alt="서치 이미지">
        </div>
    </div>

    <div class="popular-keywords style1">
    <div id="keyword-display">
        <span class="rank-number">1</span>
        <span class="rank-keyword">태아 도플러</span>
        <span class="rank-icon" id="toggle-icon" style="cursor: pointer;">▼</span>
    </div>
        <ul id="keyword-list" class="keyword-dropdown">
            <li><span class="rank-number">1. <span class="text">태아 도플러</span></span></li>
            <li><span class="rank-number">2. <span class="text">네블라이저</span></span></li>
            <li><span class="rank-number">3. <span class="text">찜질기</span></span></li>
            <li><span class="rank-number">4. <span class="text">산모벨트</span></span></li>
            <li><span class="rank-number">5. <span class="text">반도메딕스</span></span></li>
        </ul>
    </div>
    </header>
    <!-- 헤더 끝 -->

    <!-- 메뉴 시작 -->
    <nav>
        <ul class="menu">
            <li>
                <a href="#">회사소개</a>
                <ul class="submenu">
                    <li><a href="about.html">회사소개</a></li>
                    <li><a href="03_about.html">오시는길</a></li>
                </ul>
            </li>
            <li>
                <a href="#">제품소개</a>
                <ul class="submenu">
                    <li><a href="01_products.html">Fetal Doppler</a></li>
                    <li><a href="02_products.html">Nebulizer</a></li>
                    <li><a href="03_products.html">Pulse Oximeter</a></li>
                </ul>
            </li>
            <li>
                <a href="partnership.html">B2B</a>
            </li>
        </ul>
    </nav>
    <!-- 메뉴 끝 -->
  <div class="n_contents">
    <div class="qna-header">
      <h2>문의하기</h2>
      <span class="m_span"><a href="1v1_call1.html">글쓰기</a></span>
    </div>
    <table class="board">
      <colgroup>
        <col style="width: 10%;" />
        <col style="width: 50%;" />
        <col style="width: 20%;" />
        <col style="width: 20%;" />
      </colgroup>
      <thead>
        <tr>
          <th>번호</th><th>제목</th><th>날짜</th><th>작성자</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="content-wrapper"></div>
  </div>
  <div class="pagination-container"><div class="pagination"></div></div>
  <!-- content 끝 -->


    <!-- 콘텐츠 시작 -->
    <div id="contents">
        <div class="notice">
            <ul class="tab">
             <img src="img/notice1.png" alt="공지사항 이미지">
              <h5>NOTICE</h5>
            </ul>
            <ol>
                <li><a href="#">(주) 반도메딕스 홈페이지 제작 </a></li>
                <li><a href="#">(주) 반도메딕스 홈페이지 제작 </a></li>
                <li><a href="#">(주) 반도메딕스 홈페이지 제작 </a></li>
            </ol>
        </div>
        <div class="download">
            <h5><a href="download.html">DOWNLOAD</a></h5>
            <ol>
                <li><a href="download1.html">Fetal Doppler 제품 설명서</a></li>
                <li><a href="download2.html">Nebulizer 제품 설명서</a></li>
                <li><a href="download3.html"> Pulse Oxmeter 제품 설명서</a></li>
            </ol>
        </div>
        <div class="cbox">
            <h5>COMMUNITY</h5>
            <div id="cbox">
                <a href="1v1_call.html" class="user">
                    <p>문의하기</p>
                    <img src="img/User.png" alt="이미지">
                </a>
                <a href="talk.html" class="talk">
                    <p>질문과답변</p>
                    <img src="img/talk.png" alt="이미지">
                </a>
            </div>
            <div id="cbox1">
                <a href="partnership.html" class="partnership">
                    <p>B2B</p>
                    <img src="img/hand.svg" alt="이미지">
                </a>
                <a href="memo.html" class="memo">
                    <p>자료실</p>
                    <img src="img/memo.png" alt="이미지">
                </a>
            </div>
        </div>
    </div>

    <!-- 콘텐츠 끝 -->

    <!-- 푸터 시작 -->
    <footer>
        <div class="fmenu">
            <a href="#">회사소개</a>
            <a href="#">이용약관</a>
            <a href="#"><span>개인정보처리방침</span></a>
            <a href="#">이용안내</a>
            <a href="#">광고/제휴 문의</a>
        </div>
        <div class="fbox">
            <div class="flogo"><a href="#"><img src="img/flogo.png" alt="로고이미지"></a></div>
            <div class="copy">
                <p>
                    태현헬스케어 광주광역시 xxxxxx xx <br>
                    대표: xxx 사업자등록번호: xxx-xx-xxxxx <br>
                    대표번호: xx-xxx-xxxx AS번호: XXXX-XXXX 팩스번호: XX-XXX-XXXX 메일:home@xxxx.xx.xx <br>
                    copyright www.taehyun.kr all rights reserved
                </p>
            </div>
            <div class="call">
             <span>CALL CENTER</span>
              <a href="#"><h5>062-000-0000</h5></a>
              <p>평일 오전 09:30 ~ 오후 05:30</p>
              <p>점심시간 12:00 ~ 오후 01:00</p>
              <p>주말 및 공휴일 휴무</p>
            </div>
        </div>
    </footer>
    <!-- 푸터 끝 -->
    <!-- 오른쪽 배너 시작 -->
     <div id="banner">
         <div id="banner1">
             <a href="javascript:void(0)" id="fixedicon"><img src="img/down.png" alt="다운 이미지"></a>
         </div>
         <div class="close">
              <a href="javascript:void(0)" id="fixedicon"><img src="img/close.png" alt="닫기"></a>
         </div>
         <div id="banner3">
               <a href="1v1_call.html" id="fixedicon">
                 <img src="img/text.png" alt="문자">
                 <p>문의하기</p>
               </a>
         </div>
          <div id="banner4">
               <a href="notice.html" id="fixedicon">
                <img src="img/notice.png" alt="공지사항">
                <p>공지사항</p>
               </a>
         </div>
         <div id="banner5">
             <a href="partnership.html" id="fixedicon">
                 <img src="img/B2B.png" alt="b2b">
                <p>B2B</p>
            </a>
         </div>
    </div>
    <!-- 오른쪽 배너 끝 -->


<script>
document.addEventListener("DOMContentLoaded", function(){
  const isAdmin = localStorage.getItem('isAdmin') === 'true';
  let allPosts = JSON.parse(localStorage.getItem('posts') || '[]');

  // type 없는 기존 데이터에는 'inquiry' 기본값 지정
  allPosts = allPosts.map(post => { if (!post.type) post.type = 'inquiry'; return post; });
  localStorage.setItem('posts', JSON.stringify(allPosts));

  // inquiry 타입만 가져오기
  const posts = allPosts
    .reverse()
    .filter(p => p.type === 'inquiry')
    .map((p, i) => { p.id = p.id ?? i; return p; });

  const tbody = document.querySelector('table.board tbody');
  const nav = document.querySelector('.pagination');
  const pageSize = 7, pagesToShow = 4;
  let currentPage = 1, groupStart = 1;

  // ✅ 날짜 포맷 함수 추가
 function formatDateString(dateStr) {
  const parts = dateStr.split(/[.\-\/]/); // 점, 대시, 슬래시 구분
  if (parts.length < 3) return dateStr;
  const [year, month, day] = parts.map(p => p.trim());  // ← 공백 제거
  const mm = String(month).padStart(2, '0');
  const dd = String(day).padStart(2, '0');
  return `${year}-${mm}-${dd}`;
}

  function refreshPosts() {
    const cur = JSON.parse(localStorage.getItem('posts') || '[]')
      .reverse()
      .filter(p => p.type === 'inquiry');
    posts.length = 0;
    posts.push(...cur);
  }

  function getTotalPages() {
    return Math.ceil(posts.length / pageSize) || 1;
  }

  function renderPosts(page = 1) {
    refreshPosts();
    currentPage = Math.min(page, getTotalPages());
    groupStart = Math.min(groupStart, getTotalPages());
    const start = (currentPage - 1) * pageSize;
    const pagePosts = posts.slice(start, start + pageSize);

    tbody.innerHTML = '';
    pagePosts.forEach((p, idx) => {
      const num = start + idx + 1;
      const date = formatDateString(p.date); // ✅ 여기만 변경됨
      const title = p.visibility === 'private' ? '비공개' : p.title;

      const tr = document.createElement('tr');
      tr.style.position = 'relative';
      tr.innerHTML = `<td>${num}</td><td></td><td>${date}</td><td>${p.maskedName}</td>`;

      const a = document.createElement('a');
      a.href = `view1.html?id=${p.id}`;
      a.textContent = title;
      a.onclick = e => {
        if (p.visibility === 'private' && !isAdmin) {
          e.preventDefault();
          showCredentialModal(p);
        }
      };
      tr.querySelector('td:nth-child(2)').appendChild(a);

      if (isAdmin) {
        const btn = document.createElement('button');
        btn.textContent = '삭제';
        btn.style.cssText = 'position:absolute; right:-80px; top:50%; transform:translateY(-50%);';
        btn.onclick = () => {
          if (confirm('삭제하시겠습니까?')) {
            const updated = JSON.parse(localStorage.getItem('posts')).filter(item =>
              !(item.type === 'inquiry' && item.id === p.id)
            );
            localStorage.setItem('posts', JSON.stringify(updated));
            renderPosts(currentPage);
          }
        };
        tr.appendChild(btn);
      }

      tbody.appendChild(tr);
    });
    renderPagination();
  }

  function renderPagination() {
    const total = getTotalPages();
    nav.innerHTML = '';
    if (groupStart > 1) {
      const btn = document.createElement('button');
      btn.textContent = '◀';
      btn.onclick = () => { groupStart = Math.max(1, groupStart - pagesToShow); renderPosts(groupStart); };
      nav.appendChild(btn);
    }
    const end = Math.min(groupStart + pagesToShow - 1, total);
    for (let i = groupStart; i <= end; i++) {
      const b = document.createElement('button');
      b.textContent = i;
      b.classList.toggle('active', i === currentPage);
      b.onclick = () => renderPosts(i);
      nav.appendChild(b);
    }
    if (end < total) {
      const btn = document.createElement('button');
      btn.textContent = '▶';
      btn.onclick = () => { groupStart += pagesToShow; renderPosts(groupStart); };
      nav.appendChild(btn);
    }
  }

  function showCredentialModal(p) {
    const modal = document.createElement('div');
    Object.assign(modal.style, {
      position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',
      background: 'rgba(0,0,0,0.5)', display: 'flex',
      alignItems: 'center', justifyContent: 'center', zIndex: 10000
    });
    modal.innerHTML = `
      <div style="background:#fff;padding:30px;border-radius:10px;max-width:400px;">
        <h3>비공개 글입니다</h3>
        <input id="mName" placeholder="이름" style="width:100%;margin-bottom:10px;margin-top:10px;border:1px solid #ccc;padding:10px">
        <input id="mEmail" placeholder="이메일" style="width:100%;margin-bottom:20px;border:1px solid #ccc;padding:10px">
        <div style="text-align:center;">
        <button id="okBtn"  style="background:#2a8;color:#fff;cursor:pointer;padding:0 15px">확인</button>
        <button id="cancelBtn" style="margin-left:10px;cursor:pointer;padding:0 15px;">취소</button>
        </div>
      </div>`;
    document.body.appendChild(modal);
    modal.querySelector('#cancelBtn').onclick = () => modal.remove();
    modal.querySelector('#okBtn').onclick = () => {
      const n = modal.querySelector('#mName').value;
      const e = modal.querySelector('#mEmail').value;
      if (n === p.name && e === p.email) {
        window.location.href = `view1.html?id=${p.id}`;
      } else {
        alert('정보가 일치하지 않습니다.');
      }
    };
  }

  renderPosts(1);
});
</script>
</body>
</html>
