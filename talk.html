<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>íƒœí˜„í—¬ìŠ¤ì¼€ì–´ - í™ˆì¼€ì–´ ì˜ë£Œê¸°ê¸° ì „ë¬¸ ë¸Œëœë“œ</title>

    <!-- SEO í•µì‹¬ ë©”íƒ€íƒœê·¸ -->
    <meta name="description" content="íƒœí˜„í—¬ìŠ¤ì¼€ì–´ëŠ” ë„í”ŒëŸ¬, í¡ì…ê¸°, ì‚°ì†Œí¬í™”ë„ ì¸¡ì •ê¸° ë“± ê°€ì •ìš© ì˜ë£Œê¸°ê¸°ë¥¼ ì „ë¬¸ìœ¼ë¡œ ì·¨ê¸‰í•˜ëŠ” ë¸Œëœë“œì…ë‹ˆë‹¤.">
    <meta name="keywords" content="íƒœí˜„í—¬ìŠ¤ì¼€ì–´, ë„í”ŒëŸ¬, ì‚°ì†Œí¬í™”ë„, í¡ì…ê¸°, ì˜ë£Œê¸°ê¸°, í™ˆì¼€ì–´, ê±´ê°•">
    <meta name="author" content="íƒœí˜„í—¬ìŠ¤ì¼€ì–´">
    <meta name="robots" content="index, follow">

    <!-- Open Graph (SNS ê³µìœ  ì‹œ ì •ë³´) -->
    <meta property="og:title" content="íƒœí˜„í—¬ìŠ¤ì¼€ì–´ - í™ˆì¼€ì–´ ì „ë¬¸ ê¸°ì—…">
    <meta property="og:description" content="ê°€ì •ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜ë£Œê¸°ê¸° ì „ë¬¸ ë¸Œëœë“œ">
    <meta property="og:image" content="https://vu1tur2.github.io/taehyunhealthcare/img/logo.png">
    <meta property="og:url" content="https://vu1tur2.github.io/taehyunhealthcare/">
    <meta property="og:type" content="website">

    <!-- êµ¬ê¸€ ì„œì¹˜ì½˜ì†” -->
    <meta name="google-site-verification" content="0UGIN-4-UxQ22XoXpMqVQQr8Ns0h8XXDVIXI4RViAiE" />
    
    <!-- ë„¤ì´ë²„ ì„œì¹˜ì–´ë“œë°”ì´ì € -->
    <meta name="naver-site-verification" content="0cd68edc7a0e5ab742e7038c1182c6ac30f1973c" />
    
    <!-- í°íŠ¸ì–´ì¸ ì—°ê²° -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- css,js ì—°ê²° ì½”ë“œ -->
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/banner.js"></script>
    <script src="js/rank.js"></script>
</head>
<body>
    <!-- ì‹œì‘ -->
    <div id="wrap">
        <div class="chat">
            <div class="chat1">
                <li><a href="index.html">í™ˆì¼€ì–´ ì „ë¬¸íšŒì‚¬ <span> íƒœí˜„í—¬ìŠ¤ì¼€ì–´</span></a></li>
            </div>
        </div>
    </div>
    <!-- ë -->


    <!-- í—¤ë” ì‹œì‘ -->
    <header>
    <div class="header-left"></div>

    <div class="logo-wrapper">
        <img class="logo" src="logo.png" alt="íƒœí˜„ í—¬ìŠ¤ì¼€ì–´ ì´ë¯¸ì§€" />
    </div>

    <form class="search-form" action="searchResult.html" method="get" autocomplete="off">
        <input
        type="text"
        name="query"
        class="search-input"
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
        />
    </form>
    </header>

    <!-- í—¤ë” ë -->

    <!-- ë©”ë‰´ ì‹œì‘ -->
    <nav>
        <ul class="menu">
            <li>
                <a href="#">íšŒì‚¬ì†Œê°œ</a>
                <ul class="submenu">
                    <li><a href="about.html">íšŒì‚¬ì†Œê°œ</a></li>
                    <li><a href="03_about.html">ì˜¤ì‹œëŠ”ê¸¸</a></li>
                </ul>
            </li>
            <li>
                <a href="#">ì œí’ˆì†Œê°œ</a>
                <ul class="submenu">
                    <li><a href="01_products.html">Fetal Doppler</a></li>
                    <li><a href="02_products.html">Nebulizer</a></li>
                    <li><a href="03_products.html">Pulse Oximeter</a></li>
                </ul>
            </li>
            <li>
                <a href="partnership.html">B2B</a>
            </li>
            <li>
                <a href="notice.html">COMMUNITY</a>
                <ul class="submenu">
                    <li><a href="talk.html">QnA</a></li>
                    <li><a href="memo.html">ìë£Œì‹¤</a></li>
                    <li><a href="notice.html">ê³µì§€ì‚¬í•­</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <!-- ë©”ë‰´ ë -->
    
    <!-- content ì‹œì‘ -->
      <div class="n_contents">
        <div class="qna-header">
          <h2>QnA</h2>
          <span class="m_span"><a href="talk_1.html">ê¸€ì“°ê¸°</a></span>
      </div>
          <table class="board">
            <colgroup>
              <col style="width: 10%;" />  <!-- ê¸€ë²ˆí˜¸ -->
              <col style="width: 50%;" />  <!-- ì œëª© -->
              <col style="width: 20%;" />  <!-- ë‚ ì§œ -->
              <col style="width: 20%;" />  <!-- ì‘ì„±ì -->
            </colgroup>
            <thead>
              <tr>
                <th>ë²ˆí˜¸</th>
                <th>ì œëª©</th>
                <th>ë‚ ì§œ</th>
                <th>ì‘ì„±ì</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="content-wrapper"><!-- í˜ì´ì§€ ë²ˆí˜¸ nav ì‚½ì…ë¨ --></div>
      </div>
      <div class="pagination-container">
        <div class="pagination"></div>
      </div>
    <!-- content ë  -->

   <!-- ì½˜í…ì¸  ì‹œì‘ -->
    <div id="contents">
        <div class="notice-card">
        <div class="notice-card-header">
            <h3><a href="notice.html">ê³µì§€ì‚¬í•­</a></h3>
            <button class="notice-more-btn" onclick="location.href='notice.html'">â€º</button>
        </div>
        <ul class="notice-list">
            <!-- JSë¡œ ê³µì§€ê¸€ì´ ìë™ ì‚½ì…ë¨ -->
        </ul>
        </div>
        <div class="footer">
            <div class="flogo"><a href="#"><img src="img/logo.png" alt="íƒœí˜„í—¬ìŠ¤ì¼€ì–´ ë¡œê³ "></a></div>
            <div class="copy">
                <p>
                    ìƒí˜¸ëª…: íƒœí˜„í—¬ìŠ¤ì¼€ì–´ ë³¸ì‚¬: ê´‘ì£¼ê´‘ì—­ì‹œ ë™êµ¬ ì²œë³€ìš°ë¡œ 453 (ì½”ë°€ë¹Œë”©) 4ì¸µ 413í˜¸ <br>
                    ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 139-86-02746 <span class="n">ëŒ€í‘œë²ˆí˜¸: 062-233-6015</span>
                    ì´ë©”ì¼: thhealthcare@naver.com <br>
                    í‰ì¼: 09:00 ~ 17:30 / ì ì‹¬ì‹œê°„: 12:00 ~ 13:00 / íœ´ë¬´ì¼: ì£¼ë§ ë° ê³µíœ´ì¼ <br>
                    <span id="copy"><a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></span>
                    â“’ Taehyun Healthcare. All Rights Reserved.
                </p>
            </div>
        </div>
    </div>
    <!-- ì½˜í…ì¸  ë -->


    <!-- QnA ë¬¸ì˜ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ ë° ì‚­ì œ + í˜ì´ì§€ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
    document.addEventListener("DOMContentLoaded", function(){
      const isAdmin = localStorage.getItem('isAdmin') === 'true';
      let allPosts = JSON.parse(localStorage.getItem('posts') || '[]');

      allPosts = allPosts.map(post => {
        if (!post.type) post.type = 'talk';
        return post;
      });
      localStorage.setItem('posts', JSON.stringify(allPosts));

      allPosts.reverse();
      let posts = allPosts.filter(p => p.type === 'talk');
      posts.forEach((post,i) => {
        if (post.id == null) post.id = i;
      });

      const tbody = document.querySelector('table.board tbody');
      const nav = document.querySelector('.pagination');
      const pageSize = 7, pagesToShow = 4;
      let currentPage = 1, groupStart = 1;

      function refreshPosts() {
        const cur = JSON.parse(localStorage.getItem('posts')||'[]').reverse();
        posts = cur.filter(p => p.type === 'talk');
      }

      function getTotalPages() {
        return Math.ceil(posts.length / pageSize) || 1;
      }

      function renderPosts(page=1) {
        refreshPosts();
        currentPage = page;
        const totalPages = getTotalPages();
        if (currentPage > totalPages) currentPage = totalPages;
        if (groupStart > totalPages) groupStart = Math.max(1, totalPages - pagesToShow + 1);

        const startIdx = (currentPage -1)*pageSize;
        const slice = posts.slice(startIdx, startIdx + pageSize);
        tbody.innerHTML = '';

        slice.forEach((post, idx) => {
          const number = startIdx + idx + 1;
          let formatted = post.date;
          if (formatted.includes('.')) {
            const [y,m,d] = formatted.split('.');
            formatted = `${y.trim()}-${m.trim().padStart(2,'0')}-${d.trim().padStart(2,'0')}`;
          }

          // ğŸ”’ ìë¬¼ì‡  ì•„ì´ì½˜ ë˜ëŠ” ì œëª© ì„¤ì •
          const displayTitle = post.visibility === 'private'
            ? '<i class="fas fa-lock" title="ë¹„ê³µê°œ ê¸€" style="color: #555;"></i>'
            : post.title;

          const tr = document.createElement('tr');
          tr.style.position = 'relative';
          const link = document.createElement('a');
          link.href = `view.html?id=${post.id}`;
          link.innerHTML = displayTitle;
          link.onclick = (e) => {
            if (post.visibility==='private' && !isAdmin) {
              e.preventDefault();
              showCredentialModal(post);
            }
          };
          tr.innerHTML = `<td>${number}</td><td></td><td>${formatted}</td><td>${post.maskedName || post.author || 'ìµëª…'}</td>`;
          tr.querySelector('td:nth-child(2)').appendChild(link);

          if (isAdmin) {
            const btn = document.createElement('button');
            btn.textContent = 'ì‚­ì œ';
            btn.style.cssText = 'position:absolute; right:-80px; top:50%; transform:translateY(-50%); padding:0 10px; background:#eee; border:1px solid #aaa; cursor:pointer;';
            btn.onclick = () => {
              if (confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const original = JSON.parse(localStorage.getItem('posts') || '[]');
                const updated = original.filter(p => !(p.type === 'talk' && p.id === post.id));
                localStorage.setItem('posts', JSON.stringify(updated));
                renderPosts(currentPage);
              }
            };
            tr.appendChild(btn);
          }

          tbody.appendChild(tr);
        });

        renderPagination();
      }

      function renderPagination() {
        const totalPages = getTotalPages();
        nav.innerHTML = '';
        if (groupStart > 1) {
          const prev = document.createElement('button');
          prev.textContent = 'â—€';
          prev.classList.add('nav-group');
          prev.onclick = () => { groupStart = Math.max(1, groupStart - pagesToShow); renderPosts(groupStart); };
          nav.appendChild(prev);
        }
        const end = Math.min(groupStart + pagesToShow -1, totalPages);
        for (let i=groupStart; i<=end; i++) {
          const btn = document.createElement('button');
          btn.textContent = i;
          if (i === currentPage) btn.classList.add('active');
          btn.onclick = () => renderPosts(i);
          nav.appendChild(btn);
        }
        if (end < totalPages) {
          const nxt = document.createElement('button');
          nxt.textContent = 'â–¶';
          nxt.classList.add('nav-group');
          nxt.onclick = () => { groupStart += pagesToShow; renderPosts(groupStart); };
          nav.appendChild(nxt);
        }
      }

      function showCredentialModal(post) {
        const modal = document.createElement('div');
        Object.assign(modal.style, { position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.5)', display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999 });
        modal.innerHTML = `
          <div style="background:#fff;padding:30px;border-radius:10px;max-width:400px">
            <h3>ë¹„ê³µê°œ ê¸€ì…ë‹ˆë‹¤</h3>
            <input id="modalName" placeholder="ì´ë¦„" style="width:100%;margin-bottom:10px;margin-top:10px;border:1px solid #ccc;padding:10px;">
            <input id="modalEmail" placeholder="ì´ë©”ì¼" style="width:100%;margin-bottom:20px;border:1px solid #ccc;padding:10px;">
            <div style="text-align: center;">
            <button id="confirmBtn" style="background:#2a8;color:#fff;cursor:pointer; padding: 0 15px;">í™•ì¸</button>
            <button id="cancelBtn" style="margin-left:10px;cursor:pointer; padding: 0 15px;">ì·¨ì†Œ</button>
            </div>
          </div>`;
        document.body.appendChild(modal);
        modal.querySelector('#cancelBtn').onclick = () => document.body.removeChild(modal);
        modal.querySelector('#confirmBtn').onclick = () => {
          const n=modal.querySelector('#modalName').value.trim();
          const e=modal.querySelector('#modalEmail').value.trim();
          if (n===post.name && e===post.email) {
            window.location.href = `view.html?id=${post.id}`;
          } else alert('ì •ë³´ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
        };
      }

      renderPosts(1);
    });
    </script>

    <!-- ê³µì§€ì‚¬í•­ ë¦¬ìŠ¤íŠ¸ ìë™ ì‚½ì… ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
    document.addEventListener("DOMContentLoaded", function () {
    const noticeList = document.querySelector(".notice-list");
    let noticePosts = JSON.parse(localStorage.getItem('noticePosts') || '[]');

    noticePosts.sort((a, b) => {
        const dateCompare = new Date(b.date) - new Date(a.date);
        if (dateCompare !== 0) return dateCompare;
        return b.id - a.id;
    });

    const latestNotices = noticePosts.slice(0, 4); // ìµœëŒ€ 4ê°œ

    noticeList.innerHTML = "";

    latestNotices.forEach((item, index) => {
        const li = document.createElement("li");
        li.innerHTML = `
        <a href="notice_view.html?id=${item.id}" style="${index === 0 ? 'border-top: 1px dotted #000;' : ''}">
            <span class="notice-title">${item.title}</span>
            <span class="notice-date">${item.date}</span>
        </a>
        `;
        noticeList.appendChild(li);
    });
    });
    </script>
</body>
</html>
