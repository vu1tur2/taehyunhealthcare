<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>태현헬스케어 - 홈케어 의료기기 전문 브랜드</title>

    <!-- SEO 핵심 메타태그 -->
    <meta name="description" content="태현헬스케어는 도플러, 흡입기, 산소포화도 측정기 등 가정용 의료기기를 전문으로 취급하는 브랜드입니다.">
    <meta name="keywords" content="태현헬스케어, 도플러, 산소포화도, 흡입기, 의료기기, 홈케어, 건강">
    <meta name="author" content="태현헬스케어">
    <meta name="robots" content="index, follow">

    <!-- Open Graph (SNS 공유 시 정보) -->
    <meta property="og:title" content="태현헬스케어 - 홈케어 전문 기업">
    <meta property="og:description" content="가정에서 사용할 수 있는 의료기기 전문 브랜드">
    <meta property="og:image" content="https://vu1tur2.github.io/taehyunhealthcare/img/logo.png">
    <meta property="og:url" content="https://vu1tur2.github.io/taehyunhealthcare/">
    <meta property="og:type" content="website">

    <!-- 구글 서치콘솔 -->
    <meta name="google-site-verification" content="0UGIN-4-UxQ22XoXpMqVQQr8Ns0h8XXDVIXI4RViAiE" />
    
    <!-- 네이버 서치어드바이저 -->
    <meta name="naver-site-verification" content="0cd68edc7a0e5ab742e7038c1182c6ac30f1973c" />
    
    
    <!-- css,js 연결 코드 --> 
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/jquery-1.12.4.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/banner.js"></script>
    <script src="js/form-validation.js"></script>
    <script src="js/rank.js"></script>
  </head>
<body>
    <!-- 시작 -->
    <div id="wrap">
        <div class="chat">
            <div class="chat1">
                <li><a href="index.html">홈케어 전문회사 <span> 태현헬스케어</span></a></li>
            </div>
        </div>
    </div>
    <!-- 끝 -->


    <!-- 헤더 시작 -->
    <header>
    <div class="header-left"></div>

    <div class="logo-wrapper">
        <img class="logo" src="logo.png" alt="태현 헬스케어 이미지" />
    </div>

    <form class="search-form" action="searchResult.html" method="get" autocomplete="off">
        <input
        type="text"
        name="query"
        class="search-input"
        placeholder="검색어를 입력하세요"
        />
    </form>
    </header>

    <!-- 헤더 끝 -->

    <!-- 메뉴 시작 -->
    <nav>
        <ul class="menu">
            <li>
                <a href="#">회사소개</a>
                <ul class="submenu">
                    <li><a href="about.html">회사소개</a></li>
                    <li><a href="03_about.html">오시는길</a></li>
                </ul>
            </li>
            <li>
                <a href="#">제품소개</a>
                <ul class="submenu">
                    <li><a href="01_products.html">Fetal Doppler</a></li>
                    <li><a href="02_products.html">Nebulizer</a></li>
                    <li><a href="03_products.html">Pulse Oximeter</a></li>
                </ul>
            </li>
            <li>
                <a href="partnership.html">B2B</a>
            </li>
            <li>
                <a href="notice.html">COMMUNITY</a>
                <ul class="submenu">
                    <li><a href="talk.html">QnA</a></li>
                    <li><a href="memo.html">자료실</a></li>
                    <li><a href="notice.html">공지사항</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <!-- 메뉴 끝 -->

    <!-- 제품 소개 1 시작 -->
    <div id="n_contents">
        <div id="qna-header">
            <h2>QnA</h2>
        </div>
        <div class="dbox">
            <div class="dbox1"><p id="titleArea">제목:</p></div>
            <div class="dbox2"><p id="authorArea">작성자:</p></div>
            <div class="dboxEmail"><p id="emailArea">이메일:</p></div>
            <div class="dbox3">
                <div class="date-wrap">
                    <span id="dateArea">작성날짜:</span>
                </div>
            </div>
        </div>
        <div class="d">
            <p id="contentArea">작성내용</p>
        </div>
        <div class="dboxbtn">
          <a href="talk.html">목록</a>
        </div>
    </div>
    <!-- 제품 소개 1 끝 -->

   <!-- 콘텐츠 시작 -->
    <div id="contents">
        <div class="notice-card">
        <div class="notice-card-header">
            <h3>공지사항</h3>
            <button class="notice-more-btn" onclick="location.href='notice.html'">›</button>
        </div>
        <ul class="notice-list">
            <!-- JS로 공지글이 자동 삽입됨 -->
        </ul>
        </div>
        <div class="footer">
            <div class="flogo"><a href="#"><img src="img/logo.png" alt="태현헬스케어 로고"></a></div>
            <div class="copy">
                <p>
                    상호명: 태현헬스케어 본사: 광주광역시 동구 천변우로 453 (코밀빌딩) 4층 413호 <br>
                    사업자등록번호: 139-86-02746 <span class="n">대표번호: 062-233-6015</span>
                    이메일: thhealthcare@naver.com <br>
                    평일: 09:00 ~ 17:30 / 점심시간: 12:00 ~ 13:00 / 휴무일" 주말 및 공휴일
                </p>
            </div>
        </div>
    </div>
    <!-- 콘텐츠 끝 -->




    <!-- 상세보기 페이지 수정된 스크립트 부분 -->
    <script>
    document.addEventListener("DOMContentLoaded", function () {
        const params = new URLSearchParams(location.search);
        const id = Number(params.get('id'));
        const posts = JSON.parse(localStorage.getItem('posts') || '[]');
        const post = posts[id];

        if (!post) {
            alert("게시글을 찾을 수 없습니다.");
            location.href = "1v1_call.html";
            return;
        }
        document.getElementById("titleArea").textContent = `제목: ${post.title}`;
        document.getElementById("authorArea").textContent = `작성자: ${post.name}`;
        document.getElementById("emailArea").textContent = `이메일: ${post.email}`;
        document.getElementById("dateArea").textContent = `작성날짜: ${post.date}`;
        document.getElementById("contentArea").textContent = post.content;

        const contentBox = document.querySelector("#n_contents");
        
        // 첨부파일 출력 (파일 리스트 형태)
        if (post.fileNames && post.fileNames.length > 0) {
            const hr = document.createElement('hr');
            hr.style.margin = "20px 0";
            contentBox.appendChild(hr);

            const fileBox = document.createElement('div');
            fileBox.innerHTML = `<strong>첨부파일:</strong><div class="file-list"></div>`;
            const listContainer = fileBox.querySelector('.file-list');

            post.fileNames.forEach((name, index) => {
                listContainer.innerHTML += `
                    <div class="file-item" style="display:flex; align-items:center; justify-content:space-between; padding:8px 0; border-bottom:1px solid #eee;">
                        <span>${index+1}. ${name}</span>
                        <a href="files/${name}" download>
                            <img src="img/download.png" alt="다운로드" style="width:24px; height:24px; cursor:pointer;" />
                        </a>
                    </div>
                `;
            });

            contentBox.appendChild(fileBox);
        }

        // 관리자 답변 표시
        if (post.answer && post.answer.trim()) {
            const answerBox = document.createElement('div');
            answerBox.style.margin = "30px 0";
            answerBox.style.padding = "10px 0";
            answerBox.style.borderTop = "1px solid #ccc";
            answerBox.style.borderBottom = "1px solid #ccc";
            answerBox.innerHTML = `
                <h4 style="margin-bottom: 15px;">관리자 답변</h4>
                <p style="margin-bottom: 15px;">${post.answer}</p>
            `;
            contentBox.appendChild(answerBox);
        }

        // 관리자 답변 작성 폼
        const isAdmin = localStorage.getItem('isAdmin') === 'true';
        if (isAdmin) {
            const formBox = document.createElement('div');
            formBox.style.margin = '30px 0';
            formBox.innerHTML = `
                <h4 style="margin-bottom: 10px;">답변 작성</h4>
                <textarea id="adminAnswer" placeholder="답변을 입력하세요" style="width:100%; height:100px; margin-bottom:10px;"></textarea><br>
                <button id="saveAnswerBtn" style="padding: 6px 20px; font-weight:bold; cursor:pointer;">저장</button>
            `;
            contentBox.appendChild(formBox);

            document.getElementById("saveAnswerBtn").addEventListener("click", function () {
                const answer = document.getElementById("adminAnswer").value.trim();
                if (!answer) {
                    alert("답변 내용을 입력해주세요.");
                    return;
                }
                posts[id].answer = answer;
                localStorage.setItem('posts', JSON.stringify(posts));
                alert("답변이 저장되었습니다.");
                location.reload();
            });
        }

        const backBtn = document.querySelector(".dboxbtn");
        contentBox.appendChild(backBtn);
    });
    </script>
    
    <script>
       // ✅ 페이지 돌아올 때 검색창 비우기
       window.addEventListener('pageshow', function (event) {
       if (event.persisted) {
       const searchInput = document.querySelector('input[name="query"]');
       if (searchInput) searchInput.value = '';
        }
     });
    </script>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
    const noticeList = document.querySelector(".notice-list");
    let noticePosts = JSON.parse(localStorage.getItem('noticePosts') || '[]');

    // 날짜 + id 기준 최신 정렬
    noticePosts.sort((a, b) => {
        const dateCompare = new Date(b.date) - new Date(a.date);
        if (dateCompare !== 0) return dateCompare;
        return b.id - a.id;
    });

    const latestNotices = noticePosts.slice(0, 4); // 최대 4개

    noticeList.innerHTML = "";

    latestNotices.forEach(item => {
        const li = document.createElement("li");
        li.innerHTML = `
        <a href="notice_view.html?id=${item.id}">
            <span class="notice-title">${item.title}</span>
            <span class="notice-date">${item.date}</span>
        </a>
        `;
        noticeList.appendChild(li);
    });
    });
    </script>
</body>
</html>